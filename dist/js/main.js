var Completer=function(e,t){this.guid=e,this.data=t};Completer.prototype.saveResults=function(e){this.data.__tz=(new Date).getTimezoneOffset(),$.post("/s/"+this.guid,this.data,function(){})};var cssOverrides={question:{root:"question",title:"qtitle",questionNumber:"qNum"},navigation:{complete:"navButton complete",prev:"navButton prev",next:"navButton next"},progress:"survey-progress",progressBar:"survey-progress-bar",radiogroup:{label:"btn btn-default"},checkbox:{label:"btn btn-default",other:"otherCb"}},HandleQuestionUpdate=function(e){$.each(e.find("input[type=checkbox], input[type=radio]"),function(e,t){t=$(t);var a=t.attr("type");t[0].checked?(t.parents("label").first().addClass("checked active"),t.parents("div."+a).first().addClass("checked")):(t.parents("label").first().removeClass("checked active"),t.parents("div."+a).first().removeClass("checked"))})};$(document).ready(function(){var e=$('script[type="finer/survey"]').first()[0];if(e){var t=e.innerText,a=atob(t),n=JSON.parse(a),o=$("#surveyElement"),s=o.attr("data-survey-id");Survey.defaultBootstrapCss.navigationButton="btn btn-primary",Survey.Survey.cssType="bootstrap",n.completedHtml='<div class="completion"></div>',n.questionTitleTemplate="{title} {require}",n.questionNoTemplate="{no}";var r=new Survey.Model(n);r.showProgressBar="top";var i={};o.Survey({model:r,data:i,css:cssOverrides,onValueChanged:function(){HandleQuestionUpdate(o)},onCurrentPageChanged:function(e){setTimeout(function(){HandleQuestionUpdate(o)},20)},onComplete:function(e){new Completer(s,e.data).saveResults(),window.location="/s/"+s+"/complete"}}),r.onValueChanged.add(function(){console.log(n),new Completer(s,r.data).saveResults()})}});
//# sourceMappingURL=maps/main.js.map
